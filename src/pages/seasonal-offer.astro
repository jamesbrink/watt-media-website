---
import MainLayout from '../layouts/MainLayout.astro';
import OfferCalculator from '../components/OfferCalculator.astro';
import Link from '../components/Link.astro';
import { offersEnabled } from '../data/offers';
import { serviceSummaries, formatPriceValue } from '../data/pricing';
---

<MainLayout
  title="Seasonal Offer - Watt Media"
  description="Redeem your Watt Media Season's Greetings card and preview discounted pricing before you book."
  keywords="seasonal promotion, discount code, graphic design offer, watt media seasonal deal"
>
  {offersEnabled ? (
    <>
      <section class="bg-gradient-to-r from-watt-yellow to-yellow-300 py-16">
        <div class="max-w-7xl mx-auto section-padding text-center text-gray-800">
          <h1 class="text-4xl md:text-5xl font-bold font-quantico mb-4">
            Season's Greetings Offer
          </h1>
          <p class="text-xl max-w-3xl mx-auto">
            Use the code printed on your holiday card to unlock seasonal savings and preview adjusted pricing.
          </p>
        </div>
      </section>

      <section class="py-16 bg-white">
        <div class="max-w-5xl mx-auto section-padding">
          <h2 class="text-3xl font-bold font-quantico text-gray-800 mb-8 text-center">How it works</h2>
          <div class="grid gap-8 md:grid-cols-3">
            <div class="p-6 bg-gray-50 border border-gray-300 rounded-2xl shadow-sm text-center">
              <div class="text-2xl font-bold text-watt-yellow mb-3">1</div>
              <p class="text-lg font-semibold text-gray-800">Grab your printed card</p>
              <p class="text-sm text-gray-700 mt-2">
                Look for the code on the Season's Greetings card included with your brochures.
              </p>
            </div>
            <div class="p-6 bg-gray-50 border border-gray-300 rounded-2xl shadow-sm text-center">
              <div class="text-2xl font-bold text-watt-yellow mb-3">2</div>
              <p class="text-lg font-semibold text-gray-800">Preview adjusted pricing</p>
              <p class="text-sm text-gray-700 mt-2">
                Enter the unique code from your card below to see updated pricing across eligible design and media services.
              </p>
            </div>
            <div class="p-6 bg-gray-50 border border-gray-300 rounded-2xl shadow-sm text-center">
              <div class="text-2xl font-bold text-watt-yellow mb-3">3</div>
              <p class="text-lg font-semibold text-gray-800">Email us to book</p>
              <p class="text-sm text-gray-700 mt-2">
                Mention the offer when you contact us so we can add the discount to your proposal.
              </p>
            </div>
          </div>
        </div>
      </section>

      <section class="py-16 bg-gray-100">
        <div class="max-w-6xl mx-auto section-padding">
          <OfferCalculator />
        </div>
      </section>

      <section class="py-16 bg-white">
        <div class="max-w-5xl mx-auto section-padding space-y-6">
          <h2 class="text-3xl font-bold font-quantico text-gray-800 text-center">
            Services included in the promotion
          </h2>
          <p class="text-gray-700 text-center max-w-3xl mx-auto">
            The discount applies to the first milestone of any of the services below. Review the starting
            rates, then use the calculator to see the reduced totals with your code applied.
          </p>
          <div class="grid gap-6 md:grid-cols-2">
            {serviceSummaries.map((service) => (
              <div class="bg-gray-50 border border-gray-300 rounded-2xl p-6 shadow-sm">
                <h3 class="text-xl font-bold font-quantico text-gray-900 mb-2">{service.name}</h3>
                <p class="text-sm text-gray-700 mb-4">{service.description}</p>
                <p class="text-sm font-semibold text-gray-900">
                  Starting from {formatPriceValue(service.startingPrice)} (including GST)
                </p>
                <Link
                  href={service.route}
                  class="text-watt-dark font-semibold mt-3 inline-flex items-center hover:text-watt-yellow transition-colors"
                >
                  Learn more -&gt;
                </Link>
              </div>
            ))}
          </div>
        </div>
      </section>

      <section class="py-16 bg-gray-100">
        <div class="max-w-5xl mx-auto section-padding">
          <div class="bg-white border border-gray-300 rounded-2xl p-8 shadow-sm">
            <h2 class="text-2xl font-bold font-quantico text-gray-800 mb-4">Promotion essentials</h2>
            <ul class="list-disc list-inside space-y-2 text-gray-700">
              <li>
                One discount per client account. Share the code with your enquiry so we can add it to
                your quote.
              </li>
              <li>
                Applies to design, content, and audio services shown on this page. Custom scopes remain
                subject to final approval.
              </li>
              <li>
                The offer adjusts the first project milestone only; additional milestones follow the
                standard rate card.
              </li>
              <li>
                Ready to proceed? Email{' '}
                <a href="mailto:PhillipWatt@wattmedia.au" class="text-watt-yellow font-semibold">
                  PhillipWatt@wattmedia.au
                </a>{' '}
                or use our <Link href="/contact" class="text-watt-yellow font-semibold">contact page</Link> and include your code.
              </li>
            </ul>
          </div>
        </div>
      </section>
    </>
  ) : (
    <section class="py-32 bg-gray-100">
      <div class="max-w-3xl mx-auto section-padding text-center">
        <h1 class="text-4xl font-bold font-quantico text-gray-800 mb-4">Seasonal offers are paused</h1>
        <p class="text-lg text-gray-700 mb-6">
          Our printed holiday promotion is currently offline. You can still explore our services and reach out
          for a tailored quote at any time.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <Link href="/services" class="btn-primary inline-flex items-center justify-center">
            Browse Services
          </Link>
          <Link href="/contact" class="btn-secondary inline-flex items-center justify-center">
            Contact Us
          </Link>
        </div>
      </div>
    </section>
  )}
</MainLayout>
